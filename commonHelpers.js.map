{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '41949985-8da78252305a4c2e980ced1f3';\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst searchInput = document.querySelector('.search-input');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\nsearchForm.addEventListener('submit', handleFormSubmit);\n\nasync function handleFormSubmit(event) {\n  event.preventDefault();\n  const inputValue = searchInput.value.trim();\n\n  if (!inputValue) {\n    showWarning('Please enter image name!');\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  try {\n    const response = await fetch(`https://pixabay.com/api/?${searchParams}`);\n    loader.style.display = 'none';\n\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      showErrorMessage('No images found. Please try again!');\n      return;\n    }\n\n    renderImages(data.hits);\n    lightbox.refresh();\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    showErrorMessage('Failed to fetch images. Please try again later.');\n  }\n}\n\nfunction renderImages(images) {\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(image => {\n    const imageCardElement = createImageCard(image);\n    fragment.appendChild(imageCardElement);\n  });\n\n  gallery.appendChild(fragment);\n}\n\nfunction createImageCard(image) {\n  const imageCardElement = document.createElement('div');\n  imageCardElement.classList.add('card');\n\n  imageCardElement.innerHTML = `\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"card-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n      </a>\n      <div class=\"card-info\">\n        <p class=\"card-text\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"card-text\"><b>Views:</b> ${image.views}</p>\n        <p class=\"card-text\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"card-text\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    `;\n\n  return imageCardElement;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showWarning(message) {\n  iziToast.warning({\n    title: 'Warning!',\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction showErrorMessage(message) {\n  iziToast.error({\n    message: message,\n    position: 'topRight',\n  });\n}\n"],"names":["API_KEY","searchForm","gallery","searchInput","lightbox","SimpleLightbox","loader","handleFormSubmit","event","inputValue","showWarning","clearGallery","searchParams","response","data","showErrorMessage","renderImages","error","images","fragment","image","imageCardElement","createImageCard","message","iziToast"],"mappings":"6vBAUA,MAAMA,EAAU,qCACVC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvBL,EAAW,iBAAiB,SAAUM,CAAgB,EAEtD,eAAeA,EAAiBC,EAAO,CACrCA,EAAM,eAAc,EACpB,MAAMC,EAAaN,EAAY,MAAM,KAAI,EAEzC,GAAI,CAACM,EAAY,CACfC,EAAY,0BAA0B,EACtC,MACD,CAEDC,IACAL,EAAO,MAAM,QAAU,QAEvB,MAAMM,EAAe,IAAI,gBAAgB,CACvC,IAAKZ,EACL,EAAGS,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,GAAI,CACF,MAAMI,EAAW,MAAM,MAAM,4BAA4BD,CAAY,EAAE,EAGvE,GAFAN,EAAO,MAAM,QAAU,OAEnB,CAACO,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,MAAMC,EAAO,MAAMD,EAAS,OAE5B,GAAIC,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAiB,oCAAoC,EACrD,MACD,CAEDC,EAAaF,EAAK,IAAI,EACtBV,EAAS,QAAO,CACjB,OAAQa,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CF,EAAiB,iDAAiD,CACnE,CACH,CAEA,SAASC,EAAaE,EAAQ,CAC5B,MAAMC,EAAW,SAAS,yBAE1BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAmBC,EAAgBF,CAAK,EAC9CD,EAAS,YAAYE,CAAgB,CACzC,CAAG,EAEDnB,EAAQ,YAAYiB,CAAQ,CAC9B,CAEA,SAASG,EAAgBF,EAAO,CAC9B,MAAMC,EAAmB,SAAS,cAAc,KAAK,EACrD,OAAAA,EAAiB,UAAU,IAAI,MAAM,EAErCA,EAAiB,UAAY;AAAA,oCACKD,EAAM,aAAa;AAAA,uCAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6CAGhCA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA,MAIvDC,CACT,CAEA,SAASV,GAAe,CACtBT,EAAQ,UAAY,EACtB,CAEA,SAASQ,EAAYa,EAAS,CAC5BC,EAAS,QAAQ,CACf,MAAO,WACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASR,EAAiBQ,EAAS,CACjCC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,UACd,CAAG,CACH"}